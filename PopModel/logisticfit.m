function fit = logisticfit(x, data)%fitting the logistic to the actual data%estimate initial values [peak, index] = max(data);PSE = x(index);JND=1;myoptions = optimset('largescale','off',  'Algorithm', 'active-set', 'display','off');fitparam =	[PSE JND];lb = 		[-100.0  0.0];ub =		[100.0   100.0];% Do fitfitparam = fmincon('LogisticFitErr',fitparam, [],[],[],[], lb,ub, [], myoptions, x,data);%also return the calculated fit for the params (as param(4))nParams = length(fitparam);n = length(x);fit.params = fitparam; fit.SSQ  = LogisticFitErr(fitparam, x, data);fit.RMS = sqrt(fit.SSQ/n);fit.AIC = n*log(fit.SSQ/n) + 2*nParams;fit.BIC = n*log(fit.SSQ/n) + nParams*log(n);variance = std(data,1)^2;fit.percVar = 100*(variance - fit.SSQ/n)/variance;